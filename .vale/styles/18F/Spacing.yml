---
extends: existence
message: "'%s' should have one space."
link: https://content-guide.18f.gov/punctuation/#spaces
level: error
nonword: true
tokens:
  # 1. Catch 2+ spaces after punctuation
  - '[.?!] {2,}[A-Z]'

  # 2. Catch 0 spaces after . ? or !
  # Logic: Match a mark, followed immediately by a Capital,
  # UNLESS that capital is part of a GFM Alert keyword.
  - '[.?!](?!(NOTE|WARNING|TIP|IMPORTANT|CAUTION))[A-Z]'

  # 3. Catch !Letter (standard GFM shorthand) while ignoring the tags
  # Logic: Match '!' NOT preceded by '[' AND NOT followed by a GFM keyword
  - '(?<!\[)!(?!(NOTE|WARNING|TIP|IMPORTANT|CAUTION))[A-Z]'
